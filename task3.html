<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>让坦克开起来</title>
		<style type="text/css">
			input{font-size:26px;margin-top: 20px;}
			body{background-image: url(img/grassland.png);}
			#mytank{position: absolute;left:10px;top:100px}
		</style>
	</head>
	<body>		
		<img id="mytank" src="img/right.png"/>
		<script>
			document.addEventListener("DOMContentLoaded", function() {
				var tank = document.getElementById("mytank");
				var step = 10;

				document.addEventListener("keydown", function(event) {
					event.preventDefault(); // 阻止滚动页面
					var keyCode = event.keyCode;

					switch(keyCode) {
						case 87: // W
							moveTank(0, -step, "up.png");
							break;
						case 83: // S
							moveTank(0, step, "down.png");
							break;
						case 65: // A
							moveTank(-step, 0, "left.png");
							break;
						case 68: // D
							moveTank(step, 0, "right.png");
							break;
					}
				});

				function moveTank(dx, dy, direction) {
					var newX = tank.offsetLeft + dx;
					var newY = tank.offsetTop + dy;

					// 检查坦克是否超出边界
					if (newX < 0 || newX + tank.offsetWidth > window.innerWidth || 
						newY < 0 || newY + tank.offsetHeight > window.innerHeight) {
						return; // 如果超出边界，结束函数，即阻止移动
					}

					tank.style.left = newX + "px";
					tank.style.top = newY + "px";
					tank.src = "img/" + direction;
				}

				// 禁用右键菜单
				document.addEventListener("contextmenu", function(event) {
					event.preventDefault();
				});
			});

			//219970204 方裕森
		</script>
	</body>
</html>
